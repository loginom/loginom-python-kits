# LAMA.Параметры

[Назад к списку компонентов](../README.md)

## Назначение

Компонент предназначен для настройки параметров, используемых компонентами **LAMA.fitter** и **LAMA.scorer**. Позволяет задать единые настройки для всего процесса обучения и применения моделей LightAutoML, включая параметры среды выполнения, обработки данных и конфигурации алгоритмов.

## Входные порты

| Название     | Тип        |
|:-------------|:-----------|
| Переменные   | Переменные |

### Переменные в порте "Переменные"

| №  | Метка                         | Тип                                   | Значение по умолчанию              |
|:---|:------------------------------|:--------------------------------------|:-----------------------------------|
| 1  | Виртуальное окружение         | ![](./img/string.svg) Строковый       |null                                |
| 2  | Всегда создавать новую папку  | ![](./img/logicak.svg) Логический     |true                                |
| 3  | Библиотека для сериализации   | ![](./img/string.svg) Строковый       |pickle                              |
| 4  | Имя файла                     | ![](./img/string.svg) Строковый       |lama.pkl                            |
| 5  | Путь к файлу                  | ![](./img/string.svg) Строковый       |null                                |
| 6  | Поле с идентификатором        | ![](./img/string.svg) Строковый       |null                                |
| 7  | Выходное поле с разбиением    | ![](./img/string.svg) Строковый       |IsTestSet                           |
| 8  | Целевое поле                  | ![](./img/string.svg) Строковый       |null                                |
| 9  | Игнорируемые поля             | ![](./img/string.svg) Строковый       |null                                |
| 10 | Удалять игнорируемые поля     | ![](./img/logicak.svg) Логический     |false                               |
| 11 | Полный выходной набор         | ![](./img/logicak.svg) Логический     |true                                |
| 12 | Сохранять метки полей         | ![](./img/logicak.svg) Логический     |true                                |
| 13 | Словарь других ролей          | ![](./img/string.svg) Строковый       |null                                |
| 14 | task                          | ![](./img/string.svg) Строковый       |binary                              |
| 15 | loss                          | ![](./img/string.svg) Строковый       |logloss                             |
| 16 | metric                        | ![](./img/string.svg) Строковый       |auc                                 |
| 17 | timeout                       | ![](./img/integer.svg) Целочисленный  |600                                 |
| 18 | cpu_limit                     | ![](./img/integer.svg) Целочисленный  |4                                   |
| 19 | reader_params                 | ![](./img/string.svg) Строковый       |{'n_jobs': 4, 'cv':5, 'random_state': 42} |

1. **Виртуальное окружение** — путь к файлу интерпретатора Python для запуска в изолированной среде;
2. **Всегда создавать новую папку** — при значении `True` создается папка с временной меткой формата `ГГГГММДД_ЧЧММСС_lama` для сохранения результатов;
3. **Библиотека для сериализации** — название python-модуля для сохранения объектов. Поддерживается `pickle` и `joblib`;
4. **Имя файла** — имя файла для сохранения обученной модели в виде сериализованного объекта Python;
5. **Путь к файлу** — путь к папке для сохранения модели и отчетов. При пустом значении используется текущая рабочая папка;
6. **Поле с идентификатором** — необязательный столбец с идентификатором объекта, автоматически исключается из обучения;
7. **Выходное поле с разбиением** — имя поля в выходном наборе данных, указывающее принадлежность к обучающему или тестовому множеству;
8. **Целевое поле** — имя поля с целевой переменной для обучения модели;
9. **Игнорируемые поля** — список имен полей (через запятую), которые исключаются из процесса обучения и предсказания;
10. **Удалять игнорируемые поля** — при значении `True` не включать игнорируемые поля в выходной датасет;
11. **Полный выходной набор** — при значении `True` включает в выходной набор данных все исходные поля помимо предсказаний;
12. **Сохранять метки полей** — при значении `True` восстанавливает оригинальные метки полей в выходном наборе;
13. **Словарь других ролей** — дополнительные роли признаков в формате словаря Python для тонкой настройки обработки данных;
14. **task** — тип задачи машинного обучения: `'binary'` для бинарной классификации, `'reg'` для регрессии, `'multiclass'` для многоклассовой классификации;
15. **loss** — функция потерь для оптимизации модели. По умолчанию `'logloss'` для классификации, `'mse'` для регрессии;
16. **metric** — метрика для оценки качества модели. По умолчанию выбирается автоматически: ROC-AUC для бинарной классификации;
17. **timeout** — максимальное время обучения в секундах. LightAutoML автоматически управляет временем между разными алгоритмами;
18. **cpu_limit** — количество CPU ядер для использования при обучении моделей;
19. **reader_params** — дополнительные параметры для компонента Reader в формате словаря Python, отвечающего за анализ и предобработку данных.

## Выходные порты

| Название     | Тип        |
|:-------------|:-----------|
| Параметры    | Переменные |

### Переменные в порте "Параметры"

Выходной порт содержит те же переменные, что и входной, с следующими особенностями:

* **Путь к файлу** — если на входе значение равно `null`, автоматически заменяется на путь к текущей директории пакета;
* **Дополнительные пользовательские переменные** — могут быть добавлены через встроенный узел **Калькулятор (переменные)**, который называется **LAMA.Параметры**.