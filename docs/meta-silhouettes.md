# meta-silhouettes

[Назад к списку компонентов](../README.md)

## Назначение

Готовый компонент, который реализует кейс использования компонента **silhouette-samples** - расчет индексов силуэтов для построения графика (с настроенным визулизатором - диаграммой) и общий индекс силуэта с указанием качества кластеризации.

## Входные порты

| Название                | Тип        |
|:------------------------|:-----------|
| Входной набор данных    | Таблица    |
| Метки кластеров         | Таблица    |

### Структура таблицы "Входной набор данных"

На вход подается набор данных со столбцами, которые принимали участие в кластеризации.

### Структура таблицы "Метки кластеров"

Единственное поле  — **labels**, строковый тип — метки кластеров.

## Выходные порты

| Название            | Тип        |
|:--------------------|:-----------|
| Индексы силуэтов    | Таблица    |
| Индекс силуэта      | Переменные |

### Структура таблицы "Индексы силуэтов"

К исходному входному набору данных добавляется два столбца. Сортировка по убыванию `silhouette_score`, `label` 

| Метка            | Тип                                    | Описание                  |
|:-----------------|:---------------------------------------|:--------------------------|
| Номер строки     | ![](./img/number.svg) Целый            | Порядковый номер строки   |
| Индекс силуэта   | ![](./img/realnumbeg.svg) Вещественный | Значение индекса силуэта  |
| Кластер          | ![](./img/string.svg) Строковый        | Метка кластера            |

### Переменные порта "Индекс силуэта"

* переменная **Индекс силуэта** — среднее значение индекса силуэта.
* переменная **Качество кластеризации** — текстовая интерпретация индекса силуэта (до 0,2 - `Низкое`, от 0,2 до 0,5 - `Среднее`, выше 0,5 - `Высокое`).

Если набор данных большой (несколько сотен тысяч записей), то рекомендуется предварительно сделать сэмплинг со стратификацией по полю **Кластер**. Иначе время расчета будет долгим - алгоритм предполагает вычисление расстояний между всеми объектами и кластерами.
