# LAMA.scorer

[Назад к списку компонентов](../README.md)

## Назначение

Компонент предназначен для прогона (скоринга) моделей LightAutoML (LAMA), предварительно обученных в компоненте **LAMA.fitter**, на произвольном наборе данных. Модель должна быть представлена в виде сериализованного объекта Python, сформированного модулем pickle или joblib.

## Входные порты

| Название                | Тип        |
|:------------------------|:-----------|
| Набор данных            | Таблица    |
| Входные переменные      | Переменные |

### Структура таблицы "Набор данных"

На вход можно подать данные любой структуры. Структура данных должна соответствовать той, которая использовалась при обучении модели в компоненте **LAMA.fitter**.

### Переменные в порте "Входные переменные"

| №   | Метка                       | Тип                                     | Значение по умолчанию  |
|:----|:----------------------------|:----------------------------------------|:-----------------------|
| 1   | Виртуальное окружение       | ![](./img/string.svg) Строковый         | null                   |
| 2   | Библиотека для сериализации | ![](./img/string.svg) Строковый         | null                 |
| 3   | Имя файла                   | ![](./img/string.svg) Строковый         | null                   |
| 4   | Путь к файлу                | ![](./img/string.svg) Строковый         | null                   |
| 5   | Поле с идентификатором      | ![](./img/string.svg) Строковый         | null                   |
| 6   | Целевое поле                | ![](./img/string.svg) Строковый         | null                   |
| 7   | Игнорируемые поля           | ![](./img/string.svg) Строковый         | null                   |
| 8   | Удалять игнорируемые поля   | ![](./img/logical.svg) Логический       | false                  |
| 9   | Полный выходной набор       | ![](./img/logical.svg) Логический       | true                   |
| 10  | Сохранять метки полей       | ![](./img/logical.svg) Логический       | true                   |

1. **Виртуальное окружение** — путь к файлу интерпретатора Python в виртуальном окружении. Должно соответствовать окружению, использованному при обучении в **LAMA.fitter**;
2. **Библиотека для сериализации** — название python-модуля для загрузки объектов. Поддерживается pickle и joblib. Должна соответствовать библиотеке, использованной при сохранении модели в **LAMA.fitter**;
3. **Имя файла** — имя файла с сериализованной моделью LightAutoML, созданной компонентом **LAMA.fitter**;
4. **Путь к файлу** — полный путь к файлу, где находится сохраненная модель;
5. **Поле с идентификатором** — необязательный столбец, в котором содержится информация об идентификаторе объекта;
6. **Целевое поле** — название столбца с целевой переменной, который будет исключен из данных при скоринге;
7. **Игнорируемые поля** — список имен полей (через запятую), которые не будут участвовать при прогоне через модель. Должен соответствовать настройкам, использованным при обучении;
8. **Удалять игнорируемые поля** — при значении `True` не включать игнорируемые поля в выходной датасет;
9. **Полный выходной набор** — при значении `True` включать в выходной датасет все входные поля, помимо результирующих;
10. **Сохранять метки полей** — при значении `True` восстанавливать метки полей из исходного набора данных.

## Выходные порты

| Название              | Тип        |
|:----------------------|:-----------|
| Выходной набор данных | Таблица    |

### Структура таблицы "Выходной набор данных"

В выходной набор данных попадает набор данных, полученный при применении метода `predict` к модели LightAutoML, загруженной из сериализованного объекта Python. Результат включает:

* Столбец **"Prediction"** с предсказаниями ансамблевой модели LightAutoML
* Поле с идентификатором (если указано)
* Исходные поля данных (при включенном параметре "Полный выходной набор"), за исключением целевого поля и игнорируемых полей (при включенном параметре "Удалять игнорируемые поля")