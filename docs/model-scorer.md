# Model.Scorer

[Назад к списку компонентов](../README.md)

## Назначение

Компонент предназначен для прогона (скоринга) любой ранее построенной модели на произвольном наборе данных. Модель должна быть представлена в виде сериализованного объекта Python, сформированного модулем pickle или joblib.

## Входные порты

| Название                | Тип        |
|:------------------------|:-----------|
| Набор данных            | Таблица    |
| Входные переменные      | Переменные |

### Структура таблицы "Набор данных"

На вход можно подать данные любой структуры.

### Переменные в порте "Входные переменные"

| №   | Метка                       | Тип                                     | Значение по умолчанию  |
|:----|:----------------------------|:----------------------------------------|:-----------------------|
| 1   | Поле с идентификатором      | ![](./img/string.svg) Строковый         |null                    |
| 2   | Режим                       | ![](./img/string.svg) Строковый         |predict                 |
| 3   | Библиотека для сериализации | ![](./img/string.svg) Строковый         |pickle                  |
| 4   | Путь к файлу                | ![](./img/string.svg) Строковый         |null                    |
| 5   | Имя файла                   | ![](./img/string.svg) Строковый         |null                    |
| 6   | Импортируемый модуль        | ![](./img/string.svg) Строковый         |null                    |
| 7   | Импортируемый класс         | ![](./img/string.svg) Строковый         |null                    |
| 8   | Имена выходов               | ![](./img/string.svg) Строковый         |null                    |
| 9   | Игнорируемые поля           | ![](./img/string.svg) Строковый         |null                    |
| 10  | Удалять игнорируемые поля   | ![](./img/logical.svg) Логический       |false                   |
| 11  | Сохранять метки полей       | ![](./img/logical.svg) Логический       |true                    |
| 12  | Полный выходной набор       | ![](./img/logical.svg) Логический       |true                    |
| 13  | Дополнительные выходы       | ![](./img/string.svg) Строковый         |null                    |

1. **Поле с идентификатором** — необязательный столбец, в котором содержится информация об идентификаторе объекта;
2. **Режим** — метод, вызываемый при скоринге через модель. Для моделей машинного обучения это обычно **predict**, для обычных преобразований — **transform**;
3. **Библиотека для сериализации** - название python-модуля для сохранения объектов. Поддерживается pickle и joblib.
4. **Путь к файлу** — полный путь к файлу, где лежит файл с именем `model_filename` (метка `Имя файла`);
5. **Имя файла** — модель должна быть представлена в виде сериализованного объекта Python;
6. **Импортируемый модуль** — название модуля Python, в котором находится импортируемый класс;
7. **Импортируемый класс** — название класса в импортируемом модуле Python;
8. **Имена выходов** — список имен выходных столбцов через запятую. Если выходов меньше, чем длина списка, берутся первые из списка. Если null, то метки формируются по умолчанию (output1, output2, ...);
9. **Игнорируемые поля** - список имен полей (через запятую), которые не будут участвовать при прогоне через модель;
10. **Удалять игнорируемые поля** - при значении `True` не включать игнорируемые поля в выходной датасет;
11. **Сохранять метки полей** - при значении `True` восстанавливать метки полей, не рекомендуется включать флаг, если выходной датасет сильно меняется;
12. **Полный выходной набор** - при значении `True` включать в выходной датасет все входные поля, помимо результирующих;
13. **Дополнительные выходы** — список столбцов через запятую, которые будут добавлены в результирующий набор данных. Является уникальным для каждого класса и может быть взят в документации к соответствующей Python-библиотеке.

## Выходные порты

| Название              | Тип        |
|:----------------------|:-----------|
| Выходной набор данных | Таблица    |

### Структура таблицы "Выходной набор данных"
В выходной набор данных попадает набор данных, полученный при применении метода, указанного в переменной `mode`, к модели, взятой из сериализованного объекта Python.
Импортируемый модель и импортируемый класс также заданы.
