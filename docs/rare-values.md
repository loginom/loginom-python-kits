# Редкие значения

[Назад к списку компонентов](../README.md)

## Назначение

Поиск редких значений в строковых полях, формирование таблицы замен с учетом пороговой частоты для редких значений.

## Входные порты

| Название     | Тип        |
|:-------------|:-----------|
| Набор данных | Таблица    |
| Переменные   | Переменные |

### Структура таблицы "Набор данных"

На вход можно подать данные любой структуры.

### Переменные в порте "Переменные"

| №  | Метка                 | Тип                                     | Значение по умолчанию     |
|:---|:----------------------|:----------------------------------------|:-------------|
| 1  | Новое значение        | ![](./img/string.svg) Строковый         | Прочее       |
| 2  | Пороговая частота     | ![](./img/realnumber.svg) Вещественный  | 0,0125       |
| 3  | Исключаемые поля      | ![](./img/string.svg) Строковый         | ID           |
| 4  | Полная таблица замен  | ![](./img/logical.svg) Логический       | false        |

1. **Новое значение** — значение, на которое будут заменены редкие значения.
2. **Пороговая частота** — пороговое значение частоты встречаемости, ниже которого значение считается редким.
3. **Исключаемые поля** — строковые поля, которые необходимо исключить из обработки. Указываются имена полей через запятую и пробел. Например: `ID, Status`.
4. **Полная таблица замен** — флаг, при включении которого (значение **true**) на выход узла **Таблица замен** будут переданы все значения, которые были и не были заменены по каждому обработанному полю (структуру таблицы см.ниже). Требуется при замене значений в обучающей выборке для дальнейшего поиска редких и новых значений в тестовой выборке.

## Выходные порты

| Название     | Тип        |
|:-------------|:-----------|
| Набор данных | Таблица    |
| Таблица замен| Таблица    |
| Переменные   | Переменные |

### Структура таблицы "Набор данных"

Структура таблицы соответствует входному набору, к которому по каждому обработанному полю добавлено второе поле с постфиксом **_New** для имени, **Новый** для метки. В новом поле редкие значения будут заменены на значение переменной **Новое значение**, остальные значения идентичны значениям в исходном поле.

### Структура таблицы "Таблица замен"

| Метка             | Тип                             | Описание                                    |
|:------------------|:--------------------------------|:--------------------------------------------|
| Поле              | ![](./img/string.svg) Строковый | Метка поля, значение которого было заменено |
| Исходное значение | ![](./img/string.svg) Строковый | Значение, которое было заменено             |
| Новое значение    | ![](./img/string.svg) Строковый | Значение, на которое было заменено исходное |

### Переменные в порте "Переменные"

Соответствуют входным переменным.