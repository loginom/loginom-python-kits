# simple.fitter

[Назад к списку компонентов](../README.md)

## Назначение

Компонент предназначен для обучения модели на произвольном наборе данных. Под моделями понимается преобразование входного набора данных в выходной по каким-то правилам, полученным из данных, чаще всего в Python это классы с методами `fit` и `transform`. Примеры: стандартизация, масштабирование, заполнение пропусков, квантование. 

Разметка набора данных (наличие поля `target`) не поддерживается. 

Если на второй входной порт **Тестовая выборка** подан набор данных, то к нему будет применено построенная модель (построенное преобразование).

Обученная модель может быть cохранена в сериализованный объект Python, после чего использоваться для прогона в компоненте **Model.Scorer**.

## Входные порты

| Название                | Тип        |
|:------------------------|:-----------|
| Обучающая выборка       | Таблица    |
| Скоринговая выборка     | Таблица    |
| Входные переменные      | Переменные |

### Структура таблицы "Обучающая выборка"

На вход можно подать данные любой структуры.

### Структура таблицы "Скоринговая выборка"

На вход можно подать данные любой структуры, но струтура должна быть идентична обучающей выборке.

### Переменные в порте "Входные переменные"

| №  | Метка                       | Тип                                   | Значение по умолчанию  |
|:---|:----------------------------|:--------------------------------------|:-----------------------|
| 1  | Импортируемый модуль        | ![](./img/string.svg) Строковый       |null                    |
| 2  | Импортируемый класс         | ![](./img/string.svg) Строковый       |null                    |
| 3  | Библиотека для сериализации | ![](./img/string.svg) Строковый       |pickle                  |
| 4  | Путь к файлу                | ![](./img/string.svg) Строковый       |null                    |
| 5  | Имя файла                   | ![](./img/string.svg) Строковый       |null                    |
| 6  | Метод для обучения          | ![](./img/string.svg) Строковый       |fit                     |
| 7  | Метод для скоринга          | ![](./img/string.svg) Строковый       |transform               |
| 8  | Поле с идентификатором      | ![](./img/string.svg) Строковый       |ID                      |
| 9  | Выходное поле с разбиением  | ![](./img/string.svg) Строковый       |IsTestSet               |
| 10 | Игнорируемые поля           | ![](./img/string.svg) Строковый       |null                    |
| 11 | Удалять игнорируемые поля   | ![](./img/logicak.svg) Логический     |false                   |
| 12 | Целевое поле                | ![](./img/string.svg) Строковый       |null                    |
| 13 | Сохранять имена полей       | ![](./img/logicak.svg) Логический     |true                    |
| 13 | Сохранять метки полей       | ![](./img/logicak.svg) Логический     |true                    |
| 14 | params                      | ![](./img/string.svg) Строковый       |null                    |
| 15 | *Принудительные параметры   | ![](./img/string.svg) Строковый       |null                    |

1. **Импортируемый модуль** — название модуля Python, в котором находится импортируемый класс;     
2. **Импортируемый класс** — название класса в импортируемом модуле Python;       
3. **Библиотека для сериализации** —
4. **Путь к файлу** — полный путь к файлу, где лежит файл с именем `model_filename`;               
5. **Имя файла** — модель должна быть представлена в виде сериализованного объекта Python;                
6. **Метод для обучения** —  метод, который обучает модель, обычно `fit`;      
7. **Метод для скоринга** —  метод, который прогоняет через модель, обычно `transform`; 
8. **Поле с идентификатором** — необязательный столбец, в котором содержится информация об идентификаторе объекта;  
9. **Выходное поле с разбиением** — имя поля, которое будет отвечать в выходном наборе данных за разбиение на обучающее и тестовое множества;
10. **Игнорируемые поля** — список имен полей (через запятую), которые не будут участвовать при прогоне через модель;
11. **Удалять игнорируемые поля** —  при значении `True` не включать игнорируемые поля в выходной датасет; 
12. **Целевое поле** — имя поля с целевой переменной, если алгоритм требует ее;              
13. **Сохранять имена полей** —  при значении `True` восстанавливать метки полей, не рекомендуется включать флаг, если выходной датасет меняется по числу полей;        
13. **Сохранять метки полей** —  при значении `True` восстанавливать метки полей, работает только в паре с **Сохранять имена полей** = `True`;        
14. **params** — список параметров в виде строки, которые нужно задать перед обучением (формированием) модели. Данный список параметров является уникальным для каждой модели и описан в документации к соответствующей библиотеке Python;             
15. ***Принудительные параметры** — список параметров в виде строки, которые нужно задать перед обучением модели. Они будут применены после вызова метода `params`.

## Выходные порты

| Название              | Тип        |
|:----------------------|:-----------|
| Выходной набор данных | Таблица    |

### Структура таблицы "Выходной набор данных"

Выходной набор данных обычно содержит те же столбцы, что и во входном наборе данных, но бывают исключения и структура выходного датасета может меняться. Если порт **Тестовая выборка** был непустой, то он объединяется с обучающей выборкой и создается столбец с именем из переменной **Выходное поле с разбиением** и меткой **Тестовое множество** для разделения этих двух наборов данных. 