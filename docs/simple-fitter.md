# simple.fitter

[Назад к списку компонентов](../README.md)

## Назначение

Компонент предназначен для обучения модели на произвольном наборе данных. Под моделями понимается преобразование входного набора данных в выходной по каким-то правилам, полученным из данных, чаще всего в Python это классы с методами `fit` и `transform`. Примеры: стандартизация, масштабирование, заполнение пропусков, квантование. 

Разметка набора данных (наличие поля `target`) не поддерживается. 

Если на второй входной порт **Тестовая выборка** подан набор данных, то к нему будет применено построенная модель (построенное преобразование).

Обученная модель может быть cохранена в сериализованный объект Python, после чего использоваться для прогона в компоненте **Model.Scorer**.

## Входные порты

| Название                | Тип        |
|:------------------------|:-----------|
| Обучающая выборка       | Таблица    |
| Скоринговая выборка     | Таблица    |
| Входные переменные      | Переменные |

### Структура таблицы "Обучающая выборка"

На вход можно подать данные любой структуры.

### Структура таблицы "Скоринговая выборка"

На вход можно подать данные любой структуры, но струтура должна быть идентична обучающей выборке.

### Переменные в порте "Входные переменные"

| №  | Метка                      | Тип                                   | Значение по умолчанию  |
|:---|:---------------------------|:--------------------------------------|:-----------------------|
| 1  | Поле с идентификатором     | ![](./img/string.svg) Строковый       |ID                      |
| 2  | Игнорируемые поля          | ![](./img/string.svg) Строковый       |null                    |
| 3  | Путь к файлу               | ![](./img/string.svg) Строковый       |null                    |
| 4  | Имя файла для модели       | ![](./img/string.svg) Строковый       |null                    |
| 5  | Импортируемый модуль       | ![](./img/string.svg) Строковый       |null                    |
| 6  | Импортируемый класс        | ![](./img/string.svg) Строковый       |null                    |
| 7  | params                     | ![](./img/string.svg) Строковый       |null                    |
| 8  | predict_method             | ![](./img/string.svg) Строковый       |transform               |
| 9  | *Принудительные параметры  | ![](./img/string.svg) Строковый       |null                    |

 1. **Поле с идентификатором** — необязательный столбец, в котором содержится информация об идентификаторе объекта;
 2. **Игнорируемые поля** — cписок полей (если несколько, то перечисляются через запятую), которые не будут использоваться при обучении модели. В выходной набор данных они не попадут.
 3. **Путь к файлу** — полный путь к файлу, где лежит файл с именем `model_filename`;
 4. **Имя файла для модели** — модель должна быть представлена в виде сериализованного объекта Python путем вызова метода [dump](https://joblib.readthedocs.io/en/latest/generated/joblib.dump.html) из модуля joblib;
 5. **Импортируемый модуль** — название модуля Python, в котором находится импортируемый класс;
 6. **Импортируемый класс** — название класса в импортируемом модуле Python;
 7. **params** — список параметров в виде строки, которые нужно задать перед обучением (формированием) модели. Данный список параметров является уникальным для каждой модели и описан в документации к соответствующей библиотеке Python;
 8. **predict_method** — метод, вызываемый при скоринге через модель. Обычно это **transform**;
 9. ***Принудительные параметры** — список параметров в виде строки, которые нужно задать перед обучением модели. Они будут применены после вызова метода `params`.

## Выходные порты

| Название              | Тип        |
|:----------------------|:-----------|
| Выходной набор данных | Таблица    |

### Структура таблицы "Выходной набор данных"

Выходной набор данных содержит те же столбцы, что и во входном наборе данных. При наличии набора данных в порте **Тестовая выборка** в выходной набор добавляется столбец с именем **test_set**.